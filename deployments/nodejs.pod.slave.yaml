apiVersion: v1
kind: Pod
metadata:
  labels:
    jenkins-slave: nodejs
spec:
  containers:
  - name: nodejs
    image: node:12.14.0-alpine3.10
    tty: true
    command:
    - cat
  - name: docker
    image: docker:19.03.5
    tty: true
    volumneMounts:
    - name: socks
      mountPath: /var/run/docker.sock
    command:
    - cat
  - name: kubectl
    image: bitnami/kubectl:1.17-ol-7
    tty: true
    command:
      - cat
    securityContext:
      runAsUser: 1000
      fsGroup: 1000
  serviceAccountName: jenkins
  volumes:
  - name: socks
    hostPath: /var/run/docker.sock

